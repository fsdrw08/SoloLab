### 1. Upload files to dufs
- Sync binary files to dufs [LocalWorkShop/SyncTo-Dufs](../../LocalWorkShop/SyncTo-Dufs)

- Create dir `certs` in dufs: 
  - Login Vault server https://vault.day1.sololab/ui/vault/auth?with=ldap with credential of LDAP user `000`
  - Copy nomad client cert and key content from https://vault.day1.sololab/ui/vault/secrets/kvv2-certs/kv/client.global.nomad
  - Go to in https://dufs.day0.sololab/certs/, create `client.global.nomad.crt`, `client.global.nomad.key` and paste cert and key content from above step

### 2. Sync Day2 related container images to zot
[LocalWorkShop/Sync-OCIImage](../../LocalWorkShop/Sync-OCIImage/Sync-OCIImage.ps1)
```powershell
$repoDir=git rev-parse --show-toplevel
$childPath="LocalWorkShop/Sync-OCIImage"
Set-Location -Path (Join-Path -Path $repoDir -ChildPath $childPath)
```

### 3. Create Day2-FCOS VM
[TerraformWorkShop/Hyper-V/VM-Day2-FCOS](../../TerraformWorkShop/Hyper-V/VM-Day2-FCOS/)
```powershell
$repoDir=git rev-parse --show-toplevel
$childPath="TerraformWorkShop/Hyper-V/VM-Day2-FCOS"
Set-Location -Path (Join-Path -Path $repoDir -ChildPath $childPath)
# terraform init; terraform apply ...
```

### 4. Deploy nomad nfs csi node
[TerraformWorkShop/Nomad/Jobs/nfs-controller/](../../TerraformWorkShop/Nomad/Jobs/nfs-nodes/)
```powershell
$repoDir=git rev-parse --show-toplevel
$childPath="TerraformWorkShop/Nomad/Jobs/nfs-nodes"
Set-Location -Path (Join-Path -Path $repoDir -ChildPath $childPath)
$env:NOMAD_TOKEN="xxx"
# terraform init; terraform apply ...
```

### 5. Deploy Traefik nomad job
[TerraformWorkShop/Nomad/Jobs/traefik/](../../TerraformWorkShop/Nomad/Jobs/traefik/)
```powershell
$repoDir=git rev-parse --show-toplevel
$childPath="TerraformWorkShop/Nomad/Jobs/traefik/"
Set-Location -Path (Join-Path -Path $repoDir -ChildPath $childPath)
# terraform init; terraform apply ...
```

### 5. Deploy Grafana nomad job
[TerraformWorkShop/Nomad/Jobs/grafana/](../../TerraformWorkShop/Nomad/Jobs/grafana/)
```powershell
$repoDir=git rev-parse --show-toplevel
$childPath="TerraformWorkShop/Nomad/Jobs/grafana/"
Set-Location -Path (Join-Path -Path $repoDir -ChildPath $childPath)
# terraform init; terraform apply ...
```